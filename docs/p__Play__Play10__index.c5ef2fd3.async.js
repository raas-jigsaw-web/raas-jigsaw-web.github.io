"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[952],{86006:function(Yt,U,i){i.r(U),i.d(U,{default:function(){return It}});var rt=i(97857),b=i.n(rt),ot=i(12444),L=i.n(ot),nt=i(72004),M=i.n(nt),at=i(25098),j=i.n(at),it=i(31996),T=i.n(it),st=i(26037),G=i.n(st),lt=i(9783),o=i.n(lt),J=i(67294),dt=i(68400),vt=i.n(dt),ct=i(5359),W,O=ct.ZP.div(W||(W=vt()([`
  .rotate {
    position: absolute;
    left: 0em;
    top: -2em;
    width: 1.2em;
    height: 1.2em;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }

  .reverse {
    position: absolute;
    left: 3em;
    top: -2em;
    width: 1.2em;
    height: 1.2em;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }
`]))),B=M()(function t(){L()(this,t)});o()(B,"array",function(t,r){for(var m=[],k=0;k<t;k++){var s=[];m[k]=s;for(var e=0;e<r;e++)m[k].push(0)}return m}),o()(B,"rotate",function(t){if(t.length!==t[0].length||t.length!==3&&t.length!==4)throw new Error;var r=B.array(t.length,t[0].length);return t.length===3&&(r[0][0]=t[2][0],r[0][1]=t[1][0],r[0][2]=t[0][0],r[1][0]=t[2][1],r[1][1]=t[1][1],r[1][2]=t[0][1],r[2][0]=t[2][2],r[2][1]=t[1][2],r[2][2]=t[0][2]),t.length===4&&(r[0][0]=t[3][0],r[0][1]=t[2][0],r[0][2]=t[1][0],r[0][3]=t[0][0],r[1][0]=t[3][1],r[1][1]=t[2][1],r[1][2]=t[1][1],r[1][3]=t[0][1],r[2][0]=t[3][2],r[2][1]=t[2][2],r[2][2]=t[1][2],r[2][3]=t[0][2],r[3][0]=t[3][3],r[3][1]=t[2][3],r[3][2]=t[1][3],r[3][3]=t[0][3]),r}),o()(B,"reverse",function(t){if(t.length!==t[0].length||t.length!==3&&t.length!==4)throw new Error;var r=B.array(t.length,t[0].length);return t.length===3&&(r[0][0]=t[0][2],r[0][1]=t[0][1],r[0][2]=t[0][0],r[1][0]=t[1][2],r[1][1]=t[1][1],r[1][2]=t[1][0],r[2][0]=t[2][2],r[2][1]=t[2][1],r[2][2]=t[2][0]),t.length===4&&(r[0][0]=t[0][3],r[0][1]=t[0][2],r[0][2]=t[0][1],r[0][3]=t[0][0],r[1][0]=t[1][3],r[1][1]=t[1][2],r[1][2]=t[1][1],r[1][3]=t[1][0],r[2][0]=t[2][3],r[2][1]=t[2][2],r[2][2]=t[2][1],r[2][3]=t[2][0],r[3][0]=t[3][3],r[3][1]=t[3][2],r[3][2]=t[3][1],r[3][3]=t[3][0]),r});var X=i(35312),ht=[[1,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],ut=[[1,0,0],[1,1,0],[1,1,0]],mt=[[1,1,1],[1,0,1],[0,0,0]],gt=[[1,1,1],[1,0,0],[1,0,0]],ft=[[1,1,0],[0,1,0],[0,1,1]],pt=[[1,1,1],[0,1,0],[0,1,0]],xt=[[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0]],Ct=[[1,1,0],[0,1,0],[0,1,0]],yt=[[0,0,1,1],[1,1,1,0],[0,0,0,0],[0,0,0,0]],bt=[[1,1,0],[0,1,1],[0,0,0]],D={A:"rgb(105,165,45)",B:"rgb(145,85,160)",C:"rgb(230,225,45)",D:"rgb(40,130,240)",E:"rgb(120,100,200)",F:"rgb(170,190,110)",G:"rgb(220,110,160)",H:"rgb(230,110,15)",I:"rgb(80,180,140)",J:"rgb(220,150,100)"},Zt=null,St=[{name:"A",matrix:ht,color:D.A},{name:"B",matrix:ut,color:D.B},{name:"C",matrix:mt,color:D.C},{name:"D",matrix:gt,color:D.D},{name:"E",matrix:ft,color:D.E},{name:"F",matrix:pt,color:D.F},{name:"G",matrix:xt,color:D.G},{name:"H",matrix:Ct,color:D.H},{name:"I",matrix:yt,color:D.I},{name:"J",matrix:bt,color:D.J}],a=M()(function t(){L()(this,t)});o()(a,"Rows",8),o()(a,"Columns",7),o()(a,"BoxSize",90),o()(a,"backgroundColor",["white","#eee"]),o()(a,"backgroundColorHighLight","#f1c309"),o()(a,"border","1px solid rgb(25,140,250)");var wt=[["january","february","march","april","may","june",""],["july","august","september","october","november","december",""],["01","02","03","04","05","06","07"],["08","09","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31","monday","tuesday","wednesday","thursday"],["","","","","friday","saturday","sunday"]],V=[[6,3],[6,4],[6,5],[6,6],[7,4],[7,5],[7,6]],K=[[2,0],[2,1],[2,2],[2,3],[2,4],[2,5],[2,6],[3,0],[3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[4,0],[4,1],[4,2],[4,3],[4,4],[4,5],[4,6],[5,0],[5,1],[5,2],[5,3],[5,4],[5,5],[5,6],[6,0],[6,1],[6,2]],Q=[[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[1,0],[1,1],[1,2],[1,3],[1,4],[1,5]],n=i(85893),q=M()(function t(){L()(this,t),o()(this,"key",void 0),o()(this,"pieceName",void 0),o()(this,"top",void 0),o()(this,"left",void 0),o()(this,"width",void 0),o()(this,"height",void 0),o()(this,"rotateAngle",void 0),o()(this,"rotatable",void 0),o()(this,"reversible",void 0),o()(this,"movable",void 0),o()(this,"matrix",void 0),o()(this,"boxSize",void 0),o()(this,"boxBackgroundColor",void 0),o()(this,"boxCursor",void 0),o()(this,"extendedMatrix",void 0),o()(this,"onDrag",void 0),o()(this,"onDragEnd",void 0),o()(this,"onDragStart",void 0),o()(this,"children",void 0),o()(this,"backgroundColor",void 0),o()(this,"border",void 0),o()(this,"position",void 0),o()(this,"cursor",void 0),o()(this,"text",void 0),o()(this,"zIndex",void 0),o()(this,"opacity",void 0)}),A=function(t){T()(m,t);var r=G()(m);function m(k,s){var e;return L()(this,m),e=r.call(this,k,s),o()(j()(e),"mouseDown",void 0),o()(j()(e),"startDrag",function(p){if(e.props.movable){var c=p.clientX,x=p.clientY;e.mouseDown=!0;var d=function(v){if(e.mouseDown){v.stopImmediatePropagation();var C=v.clientX,h=v.clientY,g=C-c,l=h-x;c=C,x=h}},z=function S(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",S),e.mouseDown&&(e.mouseDown=!1)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",z)}}),o()(j()(e),"startInnerDrag",function(p){var c=p.clientX,x=p.clientY;e.mouseDown=!0;var d=function(v){if(e.mouseDown){v.stopImmediatePropagation();var C=v.clientX,h=v.clientY,g=C-c,l=h-x;e.setState(function(f){var w=a.BoxSize,P=0,E=0,I=f.top+l,R=f.left+g;return b()(b()({},f),{},{top:I,left:R,width:P,height:E,boxSize:w})}),c=C,x=h}},z=function S(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",S),e.mouseDown&&(e.mouseDown=!1),e.setState(function(v){return b()(b()({},v),{},{rotatable:!0,reversible:!0})},function(){var v=function C(h){var g,l,f,w,P,E;(h==null||(g=h.target)===null||g===void 0||(l=g.attributes)===null||l===void 0||(f=l.name)===null||f===void 0?void 0:f.value)==="reverse"||(h==null||(w=h.target)===null||w===void 0||(P=w.attributes)===null||P===void 0||(E=P.name)===null||E===void 0?void 0:E.value)==="rotate"||e.setState(function(I){return console.log("called.."),document.removeEventListener("mousedown",C),b()(b()({},I),{},{rotatable:!1,reversible:!1})})};document.addEventListener("mousedown",v)})};document.addEventListener("mousemove",d),document.addEventListener("mouseup",z)}),o()(j()(e),"onRotate",function(){var p=B.rotate(e.state.matrix);e.setState(function(c){return b()(b()({},c),{},{matrix:p})})}),o()(j()(e),"onReverse",function(){var p=B.reverse(e.state.matrix);e.setState(function(c){return b()(b()({},c),{},{matrix:p})})}),o()(j()(e),"onBlur",function(){console.log("haha")}),e.state=b()({},k),e}return M()(m,[{key:"render",value:function(){var s=this,e=this.props,p=e.key,c=e.border,x=e.cursor,d=e.boxCursor,z=e.boxBackgroundColor,S=e.position,v=e.zIndex,C=e.opacity,h=e.backgroundColor,g=e.text,l=this.state,f=l.top,w=l.left,P=l.width,E=l.height,I=l.boxSize,R=l.rotateAngle,Y=l.matrix,et=l.rotatable,Bt=l.reversible,F=[];if(Y&&Y.length&&Y[0])for(var Pt=Y[0].length,Et=Y.length,Z=0;Z<Et;Z++)for(var H=0;H<Pt;H++){var u=new q;u.key="".concat(p,"-").concat(Z,"-").concat(H),u.top=I*Z,u.left=I*H;var Lt=this.state.matrix[Z][H];Lt?(u.backgroundColor=z,u.cursor=d,u.zIndex=v+1,u.onDrag=this.startInnerDrag,u.width=I,u.height=I):(u.backgroundColor=void 0,u.cursor=void 0,u.zIndex=v-1,u.onDrag=this.startDrag,u.width=0,u.height=0),F.push(u)}var Mt={top:f,left:w,width:P,height:E,transform:"rotate(".concat(R,"deg)"),cursor:x,userSelect:"none",border:c,backgroundColor:h,position:S||"absolute",zIndex:v,opacity:C};return(0,n.jsxs)(O,{onMouseDown:this.startDrag,style:Mt,children:[this.props.children,g&&(0,n.jsx)("div",{style:{fontSize:"1.1em",lineHeight:"1em",margin:"0.6em 0.3em 0"},children:(0,n.jsx)(X.FormattedMessage,{id:g},"backboard-text-".concat(g))}),F&&F.map(function(y){var $t={top:y.top,left:y.left,width:y.width,height:y.height,cursor:y.cursor,userSelect:"none",backgroundColor:y.backgroundColor,position:"absolute",zIndex:y.zIndex,opacity:y.opacity};return(0,n.jsx)(O,{onMouseDown:y.onDrag,onBlur:s.onBlur,style:$t,children:y.top===0&&y.left===0&&et&&(0,n.jsxs)("div",{style:{fontSize:"0.8em"},children:["top:".concat(f)," ",(0,n.jsx)("br",{}),"left:".concat(w)," ",(0,n.jsx)("br",{}),"b.top:".concat(y.top)," ",(0,n.jsx)("br",{}),"b.left:".concat(y.left)," ",(0,n.jsx)("br",{})]})},y.key)}),et&&(0,n.jsx)("div",{className:"rotate",onClick:this.onRotate,children:(0,n.jsx)("svg",{width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("image",{width:"1.2em",height:"1.2em",href:"/icons/cycle-arrow.png",name:"rotate"})})}),Bt&&(0,n.jsx)("div",{className:"reverse",onClick:this.onReverse,children:(0,n.jsx)("svg",{width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("image",{width:"1.2em",height:"1.2em",href:"/icons/left-right-arrow.png",name:"reverse"})})})]})}}]),m}(J.PureComponent),kt=i(2453),N=i(71230),$=i(15746),_=i(52691),Dt=i(61342),jt=i(18662),zt=i(27484),tt=i.n(zt),It=function(t){T()(m,t);var r=G()(m);function m(k,s){var e;L()(this,m),e=r.call(this,k,s),o()(j()(e),"dateSet",void 0),o()(j()(e),"onDateChange",function(z){var S=z.$W-1,v=z.$D-1,C=z.$M;S===e.state.week&&v===e.state.day&&C===e.state.month||e.setState(function(h){for(var g=h.backboard,l=0;l<a.Rows;l++)for(var f=0;f<a.Columns;f++){var w=g[l*a.Columns+f];w.text===""?w.backgroundColor="":(w.backgroundColor=a.backgroundColor[(l+f)%2],w.border=a.border)}return g[V[S][0]*a.Columns+V[S][1]].backgroundColor=a.backgroundColorHighLight,g[K[v][0]*a.Columns+K[v][1]].backgroundColor=a.backgroundColorHighLight,g[Q[C][0]*a.Columns+Q[C][1]].backgroundColor=a.backgroundColorHighLight,b()(b()({},h),{},{month:C,day:v,week:S})})}),o()(j()(e),"resolve",function(){kt.ZP.info("".concat((0,X.formatMessage)({id:"develop.wait"})))});for(var p=[],c=0;c<a.Rows;c++)for(var x=0;x<a.Columns;x++){var d=new q;d.key="backboard-".concat(c,"-").concat(x),d.top=a.BoxSize*c,d.left=a.BoxSize*x,d.width=a.BoxSize,d.height=a.BoxSize,d.zIndex=0,d.text=wt[c][x],d.text===""?d.backgroundColor="":(d.backgroundColor=a.backgroundColor[(c+x)%2],d.border=a.border),p.push(d)}return e.state={backboard:p,month:0,day:0,week:0},e}return M()(m,[{key:"render",value:function(){return this.dateSet||(this.dateSet=!0,this.onDateChange(tt()())),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"center",children:"Here is play 10.."}),(0,n.jsxs)(N.Z,{children:[(0,n.jsx)($.Z,{span:11,children:this.state.backboard.map(function(s){return(0,n.jsx)(A,{top:s.top,left:s.left,width:s.width,height:s.height,zIndex:s.zIndex,border:s.border,text:s.text,backgroundColor:s.backgroundColor,rotatable:!1,reversible:!1,children:(s.text==="may"||s.text==="01")&&(0,n.jsxs)("div",{style:{fontSize:"0.8em"},children:["top: ".concat(s.top)," ",(0,n.jsx)("br",{}),"left: ".concat(s.left)," ",(0,n.jsx)("br",{})]},"backboard-test-".concat(s.key))},"backboard-".concat(s.key))})}),(0,n.jsxs)($.Z,{span:8,children:[(0,n.jsx)(N.Z,{children:(0,n.jsx)(_.ZP,{grid:{gutter:16,column:4},dataSource:St,renderItem:function(e){return(0,n.jsxs)(_.ZP.Item,{children:[e.name,(0,n.jsx)(A,{top:0,left:0,pieceName:e.name,width:a.BoxSize/3*e.matrix.length,height:a.BoxSize/3*e.matrix.length,position:"relative",zIndex:-1,rotatable:!1,reversible:!1,movable:!1},"piece-pickup-placeholder-".concat(e.name)),(0,n.jsx)(A,{pieceName:e.name,top:a.BoxSize/3,left:a.BoxSize/3,width:0,height:0,matrix:e.matrix,boxBackgroundColor:e.color,zIndex:10,boxSize:a.BoxSize/3,position:"absolute",boxCursor:"pointer",opacity:.92,rotatable:!1,reversible:!1,movable:!1},"piece-pickup-".concat(e.name))]})}})}),(0,n.jsxs)(N.Z,{children:[(0,n.jsx)($.Z,{span:8,children:(0,n.jsx)(Dt.Z,{format:"YYYY-MM-DD",allowClear:!1,onChange:this.onDateChange,defaultValue:tt()()})}),(0,n.jsx)($.Z,{span:12,children:(0,n.jsx)(jt.ZP,{type:"primary",onClick:this.resolve,children:(0,n.jsx)(X.FormattedMessage,{id:"resolve"})})})]})]}),(0,n.jsx)($.Z,{span:1,offset:1,children:(0,n.jsx)(X.SelectLang,{className:"ant-dropdown-trigger css-lye32u",reload:!1})})]})]})}}]),m}(J.Component)}}]);
