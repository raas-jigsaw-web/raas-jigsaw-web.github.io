"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[952],{86006:function($t,R,d){d.r(R),d.d(R,{default:function(){return jt}});var et=d(97857),k=d.n(et),rt=d(12444),L=d.n(rt),ot=d(72004),M=d.n(ot),nt=d(25098),I=d.n(nt),it=d(31996),F=d.n(it),st=d(26037),U=d.n(st),at=d(9783),s=d.n(at),G=d(67294),lt=d(68400),dt=d.n(lt),ut=d(85121),J,W=ut.ZP.div(J||(J=dt()([`
  .rotate {
    position: absolute;
    left: 0em;
    top: -2em;
    width: 1.2em;
    height: 1.2em;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }

  .reverse {
    position: absolute;
    left: 3em;
    top: -2em;
    width: 1.2em;
    height: 1.2em;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }
`]))),D=function(){function e(){L()(this,e)}return M()(e,null,[{key:"isEmpty",value:function(t){return!t||t.length<1||t[0].length<1}},{key:"sum",value:function(t){if(this.isEmpty(t))return 0;for(var r=0,i=0;i<t.length;i++)for(var n=0;n<t[0].length;n++)r+=t[i][n];return r}},{key:"operable",value:function(t){return!(this.isEmpty(t)||t.length!==t[0].length||t.length!==3&&t.length!==4)}},{key:"copy",value:function(t){if(!this.operable(t))throw new Error;var r=this.array(t.length,t[0].length);return r.length>=3&&(r[0][0]=t[0][0],r[0][1]=t[0][1],r[0][2]=t[0][2],r[1][0]=t[1][0],r[1][1]=t[1][1],r[1][2]=t[1][2],r[2][0]=t[2][0],r[2][1]=t[2][1],r[2][2]=t[2][2]),r.length>=4&&(r[0][3]=t[0][3],r[1][3]=t[1][3],r[2][3]=t[2][3],r[3][0]=t[3][0],r[3][1]=t[3][1],r[3][2]=t[3][2],r[3][3]=t[3][3]),r}},{key:"left0",value:function(t){if(!this.operable(t))throw new Error;var r=this.array(t.length,t[0].length);return r.length>=3&&(r[0][0]=t[0][1],r[0][1]=t[0][2],r[1][0]=t[1][1],r[1][1]=t[1][2],r[2][0]=t[2][1],r[2][1]=t[2][2]),r.length>=4&&(r[0][2]=t[0][3],r[1][2]=t[1][3],r[2][2]=t[2][3],r[3][0]=t[3][1],r[3][1]=t[3][2],r[3][2]=t[3][3]),r}},{key:"left",value:function(t){if(!this.operable(t))throw new Error;for(var r=this.sum(t),i=this.copy(t);;){var n=this.left0(i);if(r!==this.sum(n))return i;i=n}}},{key:"top0",value:function(t){if(!this.operable(t))throw new Error;var r=this.array(t.length,t[0].length);return r.length>=3&&(r[0][0]=t[1][0],r[0][1]=t[1][1],r[0][2]=t[1][2],r[1][0]=t[2][0],r[1][1]=t[2][1],r[1][2]=t[2][2]),r.length>=4&&(r[0][3]=t[1][3],r[1][3]=t[2][3],r[2][0]=t[3][0],r[2][1]=t[3][1],r[2][2]=t[3][2],r[2][3]=t[3][3]),r}},{key:"top",value:function(t){if(!this.operable(t))throw new Error;for(var r=this.sum(t),i=this.copy(t);;){var n=this.top0(i);if(r!==this.sum(n))return i;i=n}}},{key:"move2TopLeft",value:function(t){return this.top(this.left(t))}}]),e}();s()(D,"array",function(e,o){for(var t=[],r=0;r<e;r++){var i=[];t[r]=i;for(var n=0;n<o;n++)t[r].push(0)}return t}),s()(D,"rotate",function(e){if(!D.operable(e))throw new Error;var o=D.array(e.length,e[0].length);return e.length===3&&(o[0][0]=e[2][0],o[0][1]=e[1][0],o[0][2]=e[0][0],o[1][0]=e[2][1],o[1][1]=e[1][1],o[1][2]=e[0][1],o[2][0]=e[2][2],o[2][1]=e[1][2],o[2][2]=e[0][2]),e.length===4&&(o[0][0]=e[3][0],o[0][1]=e[2][0],o[0][2]=e[1][0],o[0][3]=e[0][0],o[1][0]=e[3][1],o[1][1]=e[2][1],o[1][2]=e[1][1],o[1][3]=e[0][1],o[2][0]=e[3][2],o[2][1]=e[2][2],o[2][2]=e[1][2],o[2][3]=e[0][2],o[3][0]=e[3][3],o[3][1]=e[2][3],o[3][2]=e[1][3],o[3][3]=e[0][3]),o}),s()(D,"reverse",function(e){if(!D.operable(e))throw new Error;var o=D.array(e.length,e[0].length);return e.length===3&&(o[0][0]=e[0][2],o[0][1]=e[0][1],o[0][2]=e[0][0],o[1][0]=e[1][2],o[1][1]=e[1][1],o[1][2]=e[1][0],o[2][0]=e[2][2],o[2][1]=e[2][1],o[2][2]=e[2][0]),e.length===4&&(o[0][0]=e[0][3],o[0][1]=e[0][2],o[0][2]=e[0][1],o[0][3]=e[0][0],o[1][0]=e[1][3],o[1][1]=e[1][2],o[1][2]=e[1][1],o[1][3]=e[1][0],o[2][0]=e[2][3],o[2][1]=e[2][2],o[2][2]=e[2][1],o[2][3]=e[2][0],o[3][0]=e[3][3],o[3][1]=e[3][2],o[3][2]=e[3][1],o[3][3]=e[3][0]),o});var X=d(80854),ht=[[1,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],vt=[[1,0,0],[1,1,0],[1,1,0]],ct=[[1,1,1],[1,0,1],[0,0,0]],mt=[[1,1,1],[1,0,0],[1,0,0]],ft=[[1,1,0],[0,1,0],[0,1,1]],gt=[[1,1,1],[0,1,0],[0,1,0]],pt=[[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0]],yt=[[1,1,0],[0,1,0],[0,1,0]],xt=[[0,0,1,1],[1,1,1,0],[0,0,0,0],[0,0,0,0]],Ct=[[1,1,0],[0,1,1],[0,0,0]],z={A:"rgb(105,165,45)",B:"rgb(145,85,160)",C:"rgb(230,225,45)",D:"rgb(40,130,240)",E:"rgb(120,100,200)",F:"rgb(170,190,110)",G:"rgb(220,110,160)",H:"rgb(230,110,15)",I:"rgb(80,180,140)",J:"rgb(220,150,100)"},Yt=null,bt=[{name:"A",matrix:ht,color:z.A},{name:"B",matrix:vt,color:z.B},{name:"C",matrix:ct,color:z.C},{name:"D",matrix:mt,color:z.D},{name:"E",matrix:ft,color:z.E},{name:"F",matrix:gt,color:z.F},{name:"G",matrix:pt,color:z.G},{name:"H",matrix:yt,color:z.H},{name:"I",matrix:xt,color:z.I},{name:"J",matrix:Ct,color:z.J}],l=M()(function e(){L()(this,e)});s()(l,"Rows",8),s()(l,"Columns",7),s()(l,"BoxSize",90),s()(l,"backgroundColor",["white","#eee"]),s()(l,"backgroundColorHighLight","#f1c309"),s()(l,"border","1px solid rgb(25,140,250)");var wt=[["january","february","march","april","may","june",""],["july","august","september","october","november","december",""],["01","02","03","04","05","06","07"],["08","09","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31","monday","tuesday","wednesday","thursday"],["","","","","friday","saturday","sunday"]],O=[[6,3],[6,4],[6,5],[6,6],[7,4],[7,5],[7,6]],V=[[2,0],[2,1],[2,2],[2,3],[2,4],[2,5],[2,6],[3,0],[3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[4,0],[4,1],[4,2],[4,3],[4,4],[4,5],[4,6],[5,0],[5,1],[5,2],[5,3],[5,4],[5,5],[5,6],[6,0],[6,1],[6,2]],K=[[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[1,0],[1,1],[1,2],[1,3],[1,4],[1,5]],a=d(85893),Q=M()(function e(){L()(this,e),s()(this,"key",void 0),s()(this,"pieceName",void 0),s()(this,"top",void 0),s()(this,"left",void 0),s()(this,"width",void 0),s()(this,"height",void 0),s()(this,"rotateAngle",void 0),s()(this,"rotatable",void 0),s()(this,"reversible",void 0),s()(this,"movable",void 0),s()(this,"matrix",void 0),s()(this,"boxSize",void 0),s()(this,"boxBackgroundColor",void 0),s()(this,"boxCursor",void 0),s()(this,"extendedMatrix",void 0),s()(this,"onDrag",void 0),s()(this,"onDragEnd",void 0),s()(this,"onDragStart",void 0),s()(this,"children",void 0),s()(this,"backgroundColor",void 0),s()(this,"border",void 0),s()(this,"position",void 0),s()(this,"cursor",void 0),s()(this,"text",void 0),s()(this,"zIndex",void 0),s()(this,"opacity",void 0)}),T=function(e){F()(t,e);var o=U()(t);function t(r,i){var n;return L()(this,t),n=o.call(this,r,i),s()(I()(n),"mouseDown",void 0),s()(I()(n),"startDrag",function(p){if(n.props.movable){var c=p.clientX,y=p.clientY;n.mouseDown=!0;var h=function(m){if(n.mouseDown){m.stopImmediatePropagation();var C=m.clientX,v=m.clientY,u=C-c,b=v-y;c=C,y=v}},j=function x(){document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",x),n.mouseDown&&(n.mouseDown=!1)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",j)}}),s()(I()(n),"startInnerDrag",function(p){var c=p.clientX,y=p.clientY;n.mouseDown=!0;var h=function(m){if(n.mouseDown){m.stopImmediatePropagation();var C=m.clientX,v=m.clientY,u=C-c,b=v-y;n.setState(function(g){var S=l.BoxSize,P=0,E=0,Y=g.top+b,B=g.left+u;return k()(k()({},g),{},{top:Y,left:B,width:P,height:E,boxSize:S})}),c=C,y=v}},j=function x(){document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",x),n.mouseDown&&(n.mouseDown=!1),n.setState(function(m){return k()(k()({},m),{},{rotatable:!0,reversible:!0})},function(){var m=function C(v){var u,b,g,S,P,E;(v==null||(u=v.target)===null||u===void 0||(b=u.attributes)===null||b===void 0||(g=b.name)===null||g===void 0?void 0:g.value)==="reverse"||(v==null||(S=v.target)===null||S===void 0||(P=S.attributes)===null||P===void 0||(E=P.name)===null||E===void 0?void 0:E.value)==="rotate"||n.setState(function(Y){return document.removeEventListener("mousedown",C),k()(k()({},Y),{},{rotatable:!1,reversible:!1})})};document.addEventListener("mousedown",m)})};document.addEventListener("mousemove",h),document.addEventListener("mouseup",j)}),s()(I()(n),"onRotate",function(){var p=D.move2TopLeft(D.rotate(n.state.matrix));n.setState(function(c){return k()(k()({},c),{},{matrix:p})})}),s()(I()(n),"onReverse",function(){var p=D.move2TopLeft(D.reverse(n.state.matrix));n.setState(function(c){return k()(k()({},c),{},{matrix:p})})}),n.state=k()({},r),n}return M()(t,[{key:"render",value:function(){var i=this.props,n=i.key,p=i.border,c=i.cursor,y=i.boxCursor,h=i.boxBackgroundColor,j=i.position,x=i.zIndex,m=i.opacity,C=i.backgroundColor,v=i.text,u=this.state,b=u.top,g=u.left,S=u.width,P=u.height,E=u.boxSize,Y=u.rotateAngle,B=u.matrix,tt=u.rotatable,Et=u.reversible,N=[];if(B&&B.length&&B[0])for(var It=B[0].length,Pt=B.length,Z=0;Z<Pt;Z++)for(var H=0;H<It;H++){var f=new Q;f.key="".concat(n,"-").concat(Z,"-").concat(H),f.top=E*Z,f.left=E*H;var Bt=this.state.matrix[Z][H];Bt?(f.backgroundColor=h,f.cursor=y,f.zIndex=x+1,f.onDrag=this.startInnerDrag,f.width=E,f.height=E):(f.backgroundColor=void 0,f.cursor=void 0,f.zIndex=x-1,f.onDrag=this.startDrag,f.width=0,f.height=0),N.push(f)}var Lt={top:b,left:g,width:S,height:P,transform:"rotate(".concat(Y,"deg)"),cursor:c,userSelect:"none",border:p,backgroundColor:C,position:j||"absolute",zIndex:x,opacity:m};return(0,a.jsxs)(W,{onMouseDown:this.startDrag,style:Lt,children:[this.props.children,v&&(0,a.jsx)("div",{style:{fontSize:"1.1em",lineHeight:"1em",margin:"0.6em 0.3em 0"},children:(0,a.jsx)(X.FormattedMessage,{id:v},"backboard-text-".concat(v))}),N&&N.map(function(w){var Mt={top:w.top,left:w.left,width:w.width,height:w.height,cursor:w.cursor,userSelect:"none",backgroundColor:w.backgroundColor,position:"absolute",zIndex:w.zIndex,opacity:w.opacity};return(0,a.jsx)(W,{onMouseDown:w.onDrag,style:Mt,children:w.top===0&&w.left===0&&tt&&(0,a.jsxs)("div",{style:{fontSize:"0.8em"},children:["top:".concat(b)," ",(0,a.jsx)("br",{}),"left:".concat(g)," ",(0,a.jsx)("br",{}),"b.top:".concat(w.top)," ",(0,a.jsx)("br",{}),"b.left:".concat(w.left)," ",(0,a.jsx)("br",{})]})},w.key)}),tt&&(0,a.jsx)("div",{className:"rotate",onClick:this.onRotate,children:(0,a.jsx)("svg",{width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("image",{width:"1.2em",height:"1.2em",href:"/icons/cycle-arrow.png",name:"rotate"})})}),Et&&(0,a.jsx)("div",{className:"reverse",onClick:this.onReverse,children:(0,a.jsx)("svg",{width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("image",{width:"1.2em",height:"1.2em",href:"/icons/left-right-arrow.png",name:"reverse"})})})]})}}]),t}(G.PureComponent),kt=d(2453),A=d(71230),$=d(15746),q=d(52691),St=d(61342),Dt=d(18662),zt=d(27484),_=d.n(zt),jt=function(e){F()(t,e);var o=U()(t);function t(r,i){var n;L()(this,t),n=o.call(this,r,i),s()(I()(n),"dateSet",void 0),s()(I()(n),"onDateChange",function(j){var x=j.$W-1,m=j.$D-1,C=j.$M;x===n.state.week&&m===n.state.day&&C===n.state.month||n.setState(function(v){for(var u=v.backboard,b=0;b<l.Rows;b++)for(var g=0;g<l.Columns;g++){var S=u[b*l.Columns+g];S.text===""?S.backgroundColor="":(S.backgroundColor=l.backgroundColor[(b+g)%2],S.border=l.border)}return u[O[x][0]*l.Columns+O[x][1]].backgroundColor=l.backgroundColorHighLight,u[V[m][0]*l.Columns+V[m][1]].backgroundColor=l.backgroundColorHighLight,u[K[C][0]*l.Columns+K[C][1]].backgroundColor=l.backgroundColorHighLight,k()(k()({},v),{},{month:C,day:m,week:x})})}),s()(I()(n),"resolve",function(){kt.ZP.info("".concat((0,X.formatMessage)({id:"develop.wait"})))});for(var p=[],c=0;c<l.Rows;c++)for(var y=0;y<l.Columns;y++){var h=new Q;h.key="backboard-".concat(c,"-").concat(y),h.top=l.BoxSize*c,h.left=l.BoxSize*y,h.width=l.BoxSize,h.height=l.BoxSize,h.zIndex=0,h.text=wt[c][y],h.text===""?h.backgroundColor="":(h.backgroundColor=l.backgroundColor[(c+y)%2],h.border=l.border),p.push(h)}return n.state={backboard:p,month:0,day:0,week:0},n}return M()(t,[{key:"render",value:function(){return this.dateSet||(this.dateSet=!0,this.onDateChange(_()())),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"center",children:"Here is play 10.."}),(0,a.jsxs)(A.Z,{children:[(0,a.jsx)($.Z,{span:11,children:this.state.backboard.map(function(i){return(0,a.jsx)(T,{top:i.top,left:i.left,width:i.width,height:i.height,zIndex:i.zIndex,border:i.border,text:i.text,backgroundColor:i.backgroundColor,rotatable:!1,reversible:!1,children:(i.text==="may"||i.text==="01")&&(0,a.jsxs)("div",{style:{fontSize:"0.8em"},children:["top: ".concat(i.top)," ",(0,a.jsx)("br",{}),"left: ".concat(i.left)," ",(0,a.jsx)("br",{})]},"backboard-test-".concat(i.key))},"backboard-".concat(i.key))})}),(0,a.jsxs)($.Z,{span:8,children:[(0,a.jsx)(A.Z,{children:(0,a.jsx)(q.ZP,{grid:{gutter:16,column:4},dataSource:bt,renderItem:function(n){return(0,a.jsxs)(q.ZP.Item,{children:[n.name,(0,a.jsx)(T,{top:0,left:0,pieceName:n.name,width:l.BoxSize/3*n.matrix.length,height:l.BoxSize/3*n.matrix.length,position:"relative",zIndex:-1,rotatable:!1,reversible:!1,movable:!1},"piece-pickup-placeholder-".concat(n.name)),(0,a.jsx)(T,{pieceName:n.name,top:l.BoxSize/3,left:l.BoxSize/3,width:0,height:0,matrix:n.matrix,boxBackgroundColor:n.color,zIndex:10,boxSize:l.BoxSize/3,position:"absolute",boxCursor:"pointer",opacity:.92,rotatable:!1,reversible:!1,movable:!1},"piece-pickup-".concat(n.name))]})}})}),(0,a.jsxs)(A.Z,{children:[(0,a.jsx)($.Z,{span:8,children:(0,a.jsx)(St.Z,{format:"YYYY-MM-DD",allowClear:!1,onChange:this.onDateChange,defaultValue:_()()})}),(0,a.jsx)($.Z,{span:12,children:(0,a.jsx)(Dt.ZP,{type:"primary",onClick:this.resolve,children:(0,a.jsx)(X.FormattedMessage,{id:"resolve"})})})]})]}),(0,a.jsx)($.Z,{span:1,offset:1,children:(0,a.jsx)(X.SelectLang,{className:"ant-dropdown-trigger css-lye32u",reload:!1})})]})]})}}]),t}(G.Component)}}]);
