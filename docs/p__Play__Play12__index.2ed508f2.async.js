(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[95],{88426:function(F,_,l){"use strict";l.r(_),l.d(_,{default:function(){return Ht}});var tt=l(96695),et=l.n(tt),D=l(97857),S=l.n(D),Y=l(12444),R=l.n(Y),V=l(72004),A=l.n(V),K=l(25098),z=l.n(K),H=l(31996),P=l.n(H),xt=l(26037),lt=l.n(xt),yt=l(9783),i=l.n(yt),dt=l(67294),Ct=l(68400),bt=l.n(Ct),St=l(85121),ut,vt=St.ZP.div(ut||(ut=bt()([`
  .rotate {
    position: absolute;
    left: 0em;
    top: -2em;
    width: 1.2em;
    height: 1.2em;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }

  .reverse {
    position: absolute;
    left: 3em;
    top: -2em;
    width: 1.2em;
    height: 1.2em;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }
`]))),j=function(){function e(){R()(this,e)}return A()(e,null,[{key:"isEmpty",value:function(t){return!t||t.length<1||t[0].length<1}},{key:"sum",value:function(t){if(this.isEmpty(t))return 0;for(var n=0,c=0;c<t.length;c++)for(var r=0;r<t[0].length;r++)n+=t[c][r];return n}},{key:"operable",value:function(t){return!(this.isEmpty(t)||t.length!==t[0].length||t.length!==3&&t.length!==4)}},{key:"copy",value:function(t){if(!this.operable(t))throw new Error;var n=this.array(t.length,t[0].length);return n.length>=3&&(n[0][0]=t[0][0],n[0][1]=t[0][1],n[0][2]=t[0][2],n[1][0]=t[1][0],n[1][1]=t[1][1],n[1][2]=t[1][2],n[2][0]=t[2][0],n[2][1]=t[2][1],n[2][2]=t[2][2]),n.length>=4&&(n[0][3]=t[0][3],n[1][3]=t[1][3],n[2][3]=t[2][3],n[3][0]=t[3][0],n[3][1]=t[3][1],n[3][2]=t[3][2],n[3][3]=t[3][3]),n}},{key:"left0",value:function(t){if(!this.operable(t))throw new Error;var n=this.array(t.length,t[0].length);return n.length>=3&&(n[0][0]=t[0][1],n[0][1]=t[0][2],n[1][0]=t[1][1],n[1][1]=t[1][2],n[2][0]=t[2][1],n[2][1]=t[2][2]),n.length>=4&&(n[0][2]=t[0][3],n[1][2]=t[1][3],n[2][2]=t[2][3],n[3][0]=t[3][1],n[3][1]=t[3][2],n[3][2]=t[3][3]),n}},{key:"left",value:function(t){if(!this.operable(t))throw new Error;for(var n=this.sum(t),c=this.copy(t);;){var r=this.left0(c);if(n!==this.sum(r))return c;c=r}}},{key:"top0",value:function(t){if(!this.operable(t))throw new Error;var n=this.array(t.length,t[0].length);return n.length>=3&&(n[0][0]=t[1][0],n[0][1]=t[1][1],n[0][2]=t[1][2],n[1][0]=t[2][0],n[1][1]=t[2][1],n[1][2]=t[2][2]),n.length>=4&&(n[0][3]=t[1][3],n[1][3]=t[2][3],n[2][0]=t[3][0],n[2][1]=t[3][1],n[2][2]=t[3][2],n[2][3]=t[3][3]),n}},{key:"top",value:function(t){if(!this.operable(t))throw new Error;for(var n=this.sum(t),c=this.copy(t);;){var r=this.top0(c);if(n!==this.sum(r))return c;c=r}}},{key:"move2TopLeft",value:function(t){return this.top(this.left(t))}}]),e}();i()(j,"array",function(e,o){for(var t=[],n=0;n<e;n++){var c=[];t[n]=c;for(var r=0;r<o;r++)t[n].push(0)}return t}),i()(j,"rotate",function(e){if(!j.operable(e))throw new Error;var o=j.array(e.length,e[0].length);return e.length===3&&(o[0][0]=e[2][0],o[0][1]=e[1][0],o[0][2]=e[0][0],o[1][0]=e[2][1],o[1][1]=e[1][1],o[1][2]=e[0][1],o[2][0]=e[2][2],o[2][1]=e[1][2],o[2][2]=e[0][2]),e.length===4&&(o[0][0]=e[3][0],o[0][1]=e[2][0],o[0][2]=e[1][0],o[0][3]=e[0][0],o[1][0]=e[3][1],o[1][1]=e[2][1],o[1][2]=e[1][1],o[1][3]=e[0][1],o[2][0]=e[3][2],o[2][1]=e[2][2],o[2][2]=e[1][2],o[2][3]=e[0][2],o[3][0]=e[3][3],o[3][1]=e[2][3],o[3][2]=e[1][3],o[3][3]=e[0][3]),o}),i()(j,"reverse",function(e){if(!j.operable(e))throw new Error;var o=j.array(e.length,e[0].length);return e.length===3&&(o[0][0]=e[0][2],o[0][1]=e[0][1],o[0][2]=e[0][0],o[1][0]=e[1][2],o[1][1]=e[1][1],o[1][2]=e[1][0],o[2][0]=e[2][2],o[2][1]=e[2][1],o[2][2]=e[2][0]),e.length===4&&(o[0][0]=e[0][3],o[0][1]=e[0][2],o[0][2]=e[0][1],o[0][3]=e[0][0],o[1][0]=e[1][3],o[1][1]=e[1][2],o[1][2]=e[1][1],o[1][3]=e[1][0],o[2][0]=e[2][3],o[2][1]=e[2][2],o[2][2]=e[2][1],o[2][3]=e[2][0],o[3][0]=e[3][3],o[3][1]=e[3][2],o[3][2]=e[3][1],o[3][3]=e[3][0]),o});var N=l(80854),wt=[[1,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],kt=[[1,0,0],[1,1,0],[1,1,0]],zt=[[1,1,1],[1,0,1],[0,0,0]],It=[[0,0,1],[0,0,1],[1,1,1]],Et=[[1,1,0],[0,1,0],[0,1,1]],Dt=[[1,1,1],[0,1,0],[0,1,0]],Bt=[[1,1,1,1],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Yt=[[0,1,0],[0,1,0],[1,1,0]],jt=[[1,1,0,0],[0,1,1,1],[0,0,0,0],[0,0,0,0]],Mt=[[1,1,0],[0,1,1],[0,0,0]],M={A:"rgb(105,165,45)",B:"rgb(145,85,160)",C:"rgb(120,85,85)",D:"rgb(40,130,240)",E:"rgb(120,100,200)",F:"rgb(250,190,110)",G:"rgb(220,110,160)",H:"rgb(230,110,15)",I:"rgb(80,180,140)",J:"rgb(220,150,100)"},Wt=null,Xt=[{name:"A",matrix:wt,color:M.A},{name:"B",matrix:kt,color:M.B},{name:"C",matrix:zt,color:M.C},{name:"D",matrix:It,color:M.D},{name:"E",matrix:Et,color:M.E},{name:"F",matrix:Dt,color:M.F},{name:"G",matrix:Bt,color:M.G},{name:"H",matrix:Yt,color:M.H},{name:"I",matrix:jt,color:M.I},{name:"J",matrix:Mt,color:M.J}],a=A()(function e(){R()(this,e)});i()(a,"Rows",8),i()(a,"Columns",7),i()(a,"BoxSize",90),i()(a,"backgroundColor",["white","#eee"]),i()(a,"backgroundColorHighLight","#f1c309"),i()(a,"border","1px solid rgb(25,140,250)"),i()(a,"Id","backboard-id");var $t=[["january","february","march","april","may","june",""],["july","august","september","october","november","december",""],["01","02","03","04","05","06","07"],["08","09","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31","sunday","monday","tuesday","wednesday"],["","","","","thursday","friday","saturday"]],ht=[[6,3],[6,4],[6,5],[6,6],[7,4],[7,5],[7,6]],ct=[[2,0],[2,1],[2,2],[2,3],[2,4],[2,5],[2,6],[3,0],[3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[4,0],[4,1],[4,2],[4,3],[4,4],[4,5],[4,6],[5,0],[5,1],[5,2],[5,3],[5,4],[5,5],[5,6],[6,0],[6,1],[6,2]],mt=[[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[1,0],[1,1],[1,2],[1,3],[1,4],[1,5]],Lt=[[0,6],[0,7],[7,0],[7,1],[7,2],[7,3]],s=l(85893),rt=A()(function e(){R()(this,e),i()(this,"key",void 0),i()(this,"pieceName",void 0),i()(this,"top",void 0),i()(this,"left",void 0),i()(this,"width",void 0),i()(this,"height",void 0),i()(this,"x",void 0),i()(this,"y",void 0),i()(this,"maxX",void 0),i()(this,"maxY",void 0),i()(this,"minX",void 0),i()(this,"minY",void 0),i()(this,"rotateAngle",void 0),i()(this,"rotatable",void 0),i()(this,"reversible",void 0),i()(this,"movable",void 0),i()(this,"matrix",void 0),i()(this,"boxSize",void 0),i()(this,"boxBackgroundColor",void 0),i()(this,"boxCursor",void 0),i()(this,"extendedMatrix",void 0),i()(this,"onDrag",void 0),i()(this,"onDragEnd",void 0),i()(this,"onDragStart",void 0),i()(this,"children",void 0),i()(this,"backgroundColor",void 0),i()(this,"border",void 0),i()(this,"position",void 0),i()(this,"cursor",void 0),i()(this,"text",void 0),i()(this,"zIndex",void 0),i()(this,"opacity",void 0)}),nt=function(e){P()(t,e);var o=lt()(t);function t(n,c){var r;return R()(this,t),r=o.call(this,n,c),i()(z()(r),"mouseDown",void 0),i()(z()(r),"moveRefresh",void 0),i()(z()(r),"minX",void 0),i()(z()(r),"minY",void 0),i()(z()(r),"maxX",void 0),i()(z()(r),"maxY",void 0),i()(z()(r),"startDrag",function(I){if(r.props.movable){var C=I.clientX,k=I.clientY;r.mouseDown=!0;var p=function(h){if(r.mouseDown){h.stopImmediatePropagation();var u=h.clientX,b=h.clientY,x=u-C,f=b-k;C=u,k=b}},d=function m(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m),r.mouseDown&&(r.mouseDown=!1)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",d)}}),i()(z()(r),"startInnerDrag",function(I){var C=I.clientX,k=I.clientY;r.mouseDown=!0,r.moveRefresh=!1;var p=function(u){var b,x,f,g,v,y;if(r.mouseDown){r.moveRefresh=!0,u.stopImmediatePropagation();var B=u.clientX,X=u.clientY,$=B-C,w=X-k,U=Math.round(((b=u.target)===null||b===void 0||(x=b.parentElement)===null||x===void 0||(f=x.getBoundingClientRect())===null||f===void 0?void 0:f.x)||0),ot=Math.round(((g=u.target)===null||g===void 0||(v=g.parentElement)===null||v===void 0||(y=v.getBoundingClientRect())===null||y===void 0?void 0:y.y)||0);r.setState(function(J){var it=a.BoxSize,gt=0,pt=0,T=J.top+w,at=J.left+$;return S()(S()({},J),{},{top:T,left:at,width:gt,height:pt,boxSize:it,x:U,y:ot})}),C=B,k=X}},d=function h(u){var b,x,f,g,v,y;(u==null||(b=u.target)===null||b===void 0||(x=b.attributes)===null||x===void 0||(f=x.name)===null||f===void 0?void 0:f.value)==="reverse"||(u==null||(g=u.target)===null||g===void 0||(v=g.attributes)===null||v===void 0||(y=v.name)===null||y===void 0?void 0:y.value)==="rotate"||r.setState(function(B){return document.removeEventListener("mousedown",h),S()(S()({},B),{},{rotatable:!1,reversible:!1})})},m=function h(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",h),r.mouseDown&&(r.mouseDown=!1),r.setState(function(u){return S()(S()({},u),{},{rotatable:!0,reversible:!0})},function(){document.addEventListener("mousedown",d),r.moveRefresh&&r.setState(function(u){var b=u.x,x=u.y,f=u.top,g=u.left,v=g+r.minX-b,y=f+r.minY-x,B=v+r.maxX-r.minX,X=y+r.maxY-r.minY,$=Math.round((Math.min(Math.max(v,g),B)-v)/a.BoxSize)*a.BoxSize+v,w=Math.round((Math.min(Math.max(y,f),X)-y)/a.BoxSize)*a.BoxSize+y;return S()(S()({},u),{},{left:$,top:w})})})};document.addEventListener("mousemove",p),document.addEventListener("mouseup",m)}),i()(z()(r),"onRotate",function(){var I=j.move2TopLeft(j.rotate(r.state.matrix));r.setState(function(C){return S()(S()({},C),{},{matrix:I})})}),i()(z()(r),"onReverse",function(){var I=j.move2TopLeft(j.reverse(r.state.matrix));r.setState(function(C){return S()(S()({},C),{},{matrix:I})})}),r.state=S()({},n),r}return A()(t,[{key:"render",value:function(){var c,r=(c=document.getElementById(a.Id))===null||c===void 0?void 0:c.getBoundingClientRect(),I=Math.round((r==null?void 0:r.x)||0),C=Math.round((r==null?void 0:r.y)||0),k=I,p=C,d=k+a.BoxSize*(a.Columns+5),m=p+a.BoxSize*(a.Rows-1);this.minX=k,this.minY=p,this.maxX=d,this.maxY=m;var h=this.props,u=h.key,b=h.border,x=h.cursor,f=h.boxCursor,g=h.boxBackgroundColor,v=h.position,y=h.zIndex,B=h.opacity,X=h.backgroundColor,$=h.text,w=this.state,U=w.top,ot=w.left,J=w.width,it=w.height,gt=w.x,pt=w.y,T=w.boxSize,at=w.rotateAngle,O=w.matrix,Tt=w.rotatable,Ft=w.reversible,st=[];if(O&&O.length&&O[0])for(var Nt=O[0].length,Ut=O.length,G=0;G<Ut;G++)for(var W=0;W<Nt;W++){var E=new rt;E.key="".concat(u,"-").concat(G,"-").concat(W),E.top=T*G,E.left=T*W;var Jt=this.state.matrix[G][W];Jt?(E.backgroundColor=g,E.cursor=f,E.zIndex=y+1,E.onDrag=this.startInnerDrag,E.width=T,E.height=T):(E.backgroundColor=void 0,E.cursor=void 0,E.zIndex=y-1,E.onDrag=this.startDrag,E.width=0,E.height=0),st.push(E)}var Ot={top:U,left:ot,width:J,height:it,transform:"rotate(".concat(at,"deg)"),cursor:x,userSelect:"none",border:b,backgroundColor:X,position:v||"absolute",zIndex:y,opacity:B};return(0,s.jsxs)(vt,{onMouseDown:this.startDrag,style:Ot,children:[this.props.children,$&&(0,s.jsx)("div",{style:{fontSize:"1.1em",lineHeight:"1em",margin:"0.6em 0.3em 0"},children:(0,s.jsx)(N.FormattedMessage,{id:$},"backboard-text-".concat($))}),st&&st.map(function(L){var Gt={top:L.top,left:L.left,width:L.width,height:L.height,cursor:L.cursor,userSelect:"none",backgroundColor:L.backgroundColor,position:"absolute",zIndex:L.zIndex,opacity:L.opacity};return(0,s.jsx)(vt,{onMouseDown:L.onDrag,style:Gt},L.key)}),Tt&&(0,s.jsx)("div",{className:"rotate",onClick:this.onRotate,children:(0,s.jsx)("svg",{width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("image",{width:"1.2em",height:"1.2em",href:"/icons/cycle-arrow.png",name:"rotate"})})}),Ft&&(0,s.jsx)("div",{className:"reverse",onClick:this.onReverse,children:(0,s.jsx)("svg",{width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("image",{width:"1.2em",height:"1.2em",href:"/icons/left-right-arrow.png",name:"reverse"})})})]})}}]),t}(dt.PureComponent),Pt=l(2453),Q=l(71230),Z=l(15746),q=l(52691),Zt=l(61342),Rt=l(18662),At=l(27484),ft=l.n(At),Ht=function(e){P()(t,e);var o=lt()(t);function t(n,c){var r;R()(this,t),r=o.call(this,n,c),i()(z()(r),"dateSet",void 0),i()(z()(r),"onDateChange",function(d){var m=d.$W,h=d.$D-1,u=d.$M;m===r.state.week&&h===r.state.day&&u===r.state.month||r.setState(function(b){for(var x=b.backboard,f=0;f<a.Rows;f++)for(var g=0;g<a.Columns;g++){var v=x[f*a.Columns+g];v.text===""?v.backgroundColor="":(v.backgroundColor=a.backgroundColor[(f+g)%2],v.border=a.border)}return x[ht[m][0]*a.Columns+ht[m][1]].backgroundColor=a.backgroundColorHighLight,x[ct[h][0]*a.Columns+ct[h][1]].backgroundColor=a.backgroundColorHighLight,x[mt[u][0]*a.Columns+mt[u][1]].backgroundColor=a.backgroundColorHighLight,S()(S()({},b),{},{month:u,day:h,week:m})})}),i()(z()(r),"resolve",function(){fetch("http://localhost:8080/resolve?count=10").then(function(d){return d.json()}).then(function(d){d&&d.code===0&&d.data&&0<d.data.length&&r.setState(function(m){var h=[];for(var u in d.data){for(var b=[],x=d.data[u].matrix,f=0;f<x.length;f++)for(var g=0;g<x[0].length;g++){var v=new rt;v.key="result-".concat(u,"-").concat(f,"-").concat(g);var y=a.BoxSize/5;v.top=y*f,v.left=y*g,v.width=y,v.height=y;var B=x[f][g];if(v.pieceName=B,B!=="`")v.backgroundColor=M[B];else{var X=et()(Lt),$;try{for(X.s();!($=X.n()).done;){var w=$.value;f===w[0]&&g===w[1]&&(v.backgroundColor=a.backgroundColorHighLight)}}catch(U){X.e(U)}finally{X.f()}}b.push(v)}h.push(b)}return console.log(h),S()(S()({},m),{},{results:h})})}).catch(function(d){Pt.ZP.info("".concat((0,N.formatMessage)({id:d})))})});for(var I=[],C=0;C<a.Rows;C++)for(var k=0;k<a.Columns;k++){var p=new rt;p.key="backboard-".concat(C,"-").concat(k),p.top=a.BoxSize*C,p.left=a.BoxSize*k,p.width=a.BoxSize,p.height=a.BoxSize,p.zIndex=0,p.text=$t[C][k],p.text===""?p.backgroundColor="":(p.backgroundColor=a.backgroundColor[(C+k)%2],p.border=a.border),I.push(p)}return r.state={backboard:I,month:0,day:0,week:0,results:[]},r}return A()(t,[{key:"render",value:function(){this.dateSet||(this.dateSet=!0,this.onDateChange(ft()()));var c=this.state,r=c.minX,I=c.minY,C=c.maxX,k=c.maxY,p=c.results;return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"center",children:"Here is play 11 .."}),(0,s.jsx)("div",{style:{padding:"2em 8em 0"},children:(0,s.jsx)("div",{id:a.Id,children:(0,s.jsxs)(Q.Z,{children:[(0,s.jsx)(Z.Z,{span:11,children:this.state.backboard.map(function(d){return(0,s.jsx)(nt,{top:d.top,left:d.left,width:d.width,height:d.height,zIndex:d.zIndex,border:d.border,text:d.text,backgroundColor:d.backgroundColor,rotatable:!1,reversible:!1},"backboard-".concat(d.key))})}),(0,s.jsxs)(Z.Z,{span:13,children:[(0,s.jsxs)(Q.Z,{children:[(0,s.jsx)(Z.Z,{span:20,children:(0,s.jsx)(q.ZP,{grid:{column:5},dataSource:Xt,renderItem:function(m){return(0,s.jsxs)(q.ZP.Item,{children:[m.name,(0,s.jsx)(nt,{top:0,left:0,pieceName:m.name,width:a.BoxSize/3*m.matrix.length,height:a.BoxSize/3*m.matrix.length,position:"relative",zIndex:-1,rotatable:!1,reversible:!1,movable:!1},"piece-pickup-placeholder-".concat(m.name)),(0,s.jsx)(nt,{pieceName:m.name,top:a.BoxSize/3,left:a.BoxSize/3,width:0,height:0,maxX:C,maxY:k,minX:r,minY:I,matrix:m.matrix,boxBackgroundColor:m.color,zIndex:10,boxSize:a.BoxSize/3,position:"absolute",boxCursor:"pointer",opacity:.92,rotatable:!1,reversible:!1,movable:!1},"piece-pickup-".concat(m.name))]})}})}),(0,s.jsx)(Z.Z,{span:4,children:(0,s.jsx)(N.SelectLang,{className:"ant-dropdown-trigger css-lye32u",reload:!1})})]}),(0,s.jsxs)(Q.Z,{children:[(0,s.jsx)(Z.Z,{span:11}),(0,s.jsx)(Z.Z,{span:3,style:{fontSize:"1.2em",textAlign:"right",float:"right"},children:(0,s.jsxs)("big",{children:[(0,s.jsx)(N.FormattedMessage,{id:"set.goal"}),":\xA0"]})}),(0,s.jsx)(Z.Z,{span:5,style:{fontSize:"1.2em",textAlign:"right",float:"right"},children:(0,s.jsx)(Zt.Z,{format:"YYYY-MM-DD",defaultValue:ft()(),size:"middle",allowClear:!1,onChange:this.onDateChange})}),(0,s.jsx)(Z.Z,{span:5,style:{fontSize:"1.2em",textAlign:"right",float:"right"},children:(0,s.jsx)(Rt.ZP,{type:"primary",onClick:this.resolve,children:(0,s.jsx)(N.FormattedMessage,{id:"resolve"})})})]}),(0,s.jsx)(Q.Z,{children:(0,s.jsx)(Z.Z,{span:24,children:(0,s.jsx)(q.ZP,{size:"large",itemLayout:"vertical",pagination:{onChange:function(m){console.log("page: ".concat(m))},pageSize:3},dataSource:p,renderItem:function(m){return(0,s.jsx)(q.ZP.Item,{children:JSON.stringify(m)},"item.title")}})})})]})]})})})]})}}]),t}(dt.Component)},96695:function(F,_,l){var tt=l(96263);function et(D,S){var Y=typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(!Y){if(Array.isArray(D)||(Y=tt(D))||S&&D&&typeof D.length=="number"){Y&&(D=Y);var R=0,V=function(){};return{s:V,n:function(){return R>=D.length?{done:!0}:{done:!1,value:D[R++]}},e:function(P){throw P},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A=!0,K=!1,z;return{s:function(){Y=Y.call(D)},n:function(){var P=Y.next();return A=P.done,P},e:function(P){K=!0,z=P},f:function(){try{!A&&Y.return!=null&&Y.return()}finally{if(K)throw z}}}}F.exports=et,F.exports.__esModule=!0,F.exports.default=F.exports}}]);
