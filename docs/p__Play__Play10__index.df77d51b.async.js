"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[952],{86006:function($t,R,d){d.r(R),d.d(R,{default:function(){return jt}});var et=d(97857),k=d.n(et),rt=d(12444),L=d.n(rt),ot=d(72004),M=d.n(ot),nt=d(25098),E=d.n(nt),it=d(31996),F=d.n(it),at=d(26037),U=d.n(at),st=d(9783),i=d.n(st),G=d(67294),lt=d(68400),dt=d.n(lt),ut=d(85121),J,W=ut.ZP.div(J||(J=dt()([`
  .rotate {
    position: absolute;
    left: 0em;
    top: -2em;
    width: 1.2em;
    height: 1.2em;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }

  .reverse {
    position: absolute;
    left: 3em;
    top: -2em;
    width: 1.2em;
    height: 1.2em;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }
`]))),D=function(){function t(){L()(this,t)}return M()(t,null,[{key:"isEmpty",value:function(e){return!e||e.length<1||e[0].length<1}},{key:"sum",value:function(e){if(this.isEmpty(e))return 0;for(var n=0,a=0;a<e.length;a++)for(var o=0;o<e[0].length;o++)n+=e[a][o];return n}},{key:"operable",value:function(e){return!(this.isEmpty(e)||e.length!==e[0].length||e.length!==3&&e.length!==4)}},{key:"copy",value:function(e){if(!this.operable(e))throw new Error;var n=this.array(e.length,e[0].length);return n.length>=3&&(n[0][0]=e[0][0],n[0][1]=e[0][1],n[0][2]=e[0][2],n[1][0]=e[1][0],n[1][1]=e[1][1],n[1][2]=e[1][2],n[2][0]=e[2][0],n[2][1]=e[2][1],n[2][2]=e[2][2]),n.length>=4&&(n[0][3]=e[0][3],n[1][3]=e[1][3],n[2][3]=e[2][3],n[3][0]=e[3][0],n[3][1]=e[3][1],n[3][2]=e[3][2],n[3][3]=e[3][3]),n}},{key:"left0",value:function(e){if(!this.operable(e))throw new Error;var n=this.array(e.length,e[0].length);return n.length>=3&&(n[0][0]=e[0][1],n[0][1]=e[0][2],n[1][0]=e[1][1],n[1][1]=e[1][2],n[2][0]=e[2][1],n[2][1]=e[2][2]),n.length>=4&&(n[0][2]=e[0][3],n[1][2]=e[1][3],n[2][2]=e[2][3],n[3][0]=e[3][1],n[3][1]=e[3][2],n[3][2]=e[3][3]),n}},{key:"left",value:function(e){if(!this.operable(e))throw new Error;for(var n=this.sum(e),a=this.copy(e);;){var o=this.left0(a);if(n!==this.sum(o))return a;a=o}}},{key:"move2TopLeft",value:function(e){return console.log(e),this.left(e)}}]),t}();i()(D,"array",function(t,r){for(var e=[],n=0;n<t;n++){var a=[];e[n]=a;for(var o=0;o<r;o++)e[n].push(0)}return e}),i()(D,"rotate",function(t){if(!D.operable(t))throw new Error;var r=D.array(t.length,t[0].length);return t.length===3&&(r[0][0]=t[2][0],r[0][1]=t[1][0],r[0][2]=t[0][0],r[1][0]=t[2][1],r[1][1]=t[1][1],r[1][2]=t[0][1],r[2][0]=t[2][2],r[2][1]=t[1][2],r[2][2]=t[0][2]),t.length===4&&(r[0][0]=t[3][0],r[0][1]=t[2][0],r[0][2]=t[1][0],r[0][3]=t[0][0],r[1][0]=t[3][1],r[1][1]=t[2][1],r[1][2]=t[1][1],r[1][3]=t[0][1],r[2][0]=t[3][2],r[2][1]=t[2][2],r[2][2]=t[1][2],r[2][3]=t[0][2],r[3][0]=t[3][3],r[3][1]=t[2][3],r[3][2]=t[1][3],r[3][3]=t[0][3]),r}),i()(D,"reverse",function(t){if(!D.operable(t))throw new Error;var r=D.array(t.length,t[0].length);return t.length===3&&(r[0][0]=t[0][2],r[0][1]=t[0][1],r[0][2]=t[0][0],r[1][0]=t[1][2],r[1][1]=t[1][1],r[1][2]=t[1][0],r[2][0]=t[2][2],r[2][1]=t[2][1],r[2][2]=t[2][0]),t.length===4&&(r[0][0]=t[0][3],r[0][1]=t[0][2],r[0][2]=t[0][1],r[0][3]=t[0][0],r[1][0]=t[1][3],r[1][1]=t[1][2],r[1][2]=t[1][1],r[1][3]=t[1][0],r[2][0]=t[2][3],r[2][1]=t[2][2],r[2][2]=t[2][1],r[2][3]=t[2][0],r[3][0]=t[3][3],r[3][1]=t[3][2],r[3][2]=t[3][1],r[3][3]=t[3][0]),r});var X=d(80854),vt=[[1,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],ht=[[1,0,0],[1,1,0],[1,1,0]],ct=[[1,1,1],[1,0,1],[0,0,0]],mt=[[1,1,1],[1,0,0],[1,0,0]],ft=[[1,1,0],[0,1,0],[0,1,1]],gt=[[1,1,1],[0,1,0],[0,1,0]],pt=[[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0]],xt=[[1,1,0],[0,1,0],[0,1,0]],yt=[[0,0,1,1],[1,1,1,0],[0,0,0,0],[0,0,0,0]],Ct=[[1,1,0],[0,1,1],[0,0,0]],z={A:"rgb(105,165,45)",B:"rgb(145,85,160)",C:"rgb(230,225,45)",D:"rgb(40,130,240)",E:"rgb(120,100,200)",F:"rgb(170,190,110)",G:"rgb(220,110,160)",H:"rgb(230,110,15)",I:"rgb(80,180,140)",J:"rgb(220,150,100)"},Yt=null,bt=[{name:"A",matrix:vt,color:z.A},{name:"B",matrix:ht,color:z.B},{name:"C",matrix:ct,color:z.C},{name:"D",matrix:mt,color:z.D},{name:"E",matrix:ft,color:z.E},{name:"F",matrix:gt,color:z.F},{name:"G",matrix:pt,color:z.G},{name:"H",matrix:xt,color:z.H},{name:"I",matrix:yt,color:z.I},{name:"J",matrix:Ct,color:z.J}],l=M()(function t(){L()(this,t)});i()(l,"Rows",8),i()(l,"Columns",7),i()(l,"BoxSize",90),i()(l,"backgroundColor",["white","#eee"]),i()(l,"backgroundColorHighLight","#f1c309"),i()(l,"border","1px solid rgb(25,140,250)");var wt=[["january","february","march","april","may","june",""],["july","august","september","october","november","december",""],["01","02","03","04","05","06","07"],["08","09","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31","monday","tuesday","wednesday","thursday"],["","","","","friday","saturday","sunday"]],O=[[6,3],[6,4],[6,5],[6,6],[7,4],[7,5],[7,6]],V=[[2,0],[2,1],[2,2],[2,3],[2,4],[2,5],[2,6],[3,0],[3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[4,0],[4,1],[4,2],[4,3],[4,4],[4,5],[4,6],[5,0],[5,1],[5,2],[5,3],[5,4],[5,5],[5,6],[6,0],[6,1],[6,2]],K=[[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[1,0],[1,1],[1,2],[1,3],[1,4],[1,5]],s=d(85893),Q=M()(function t(){L()(this,t),i()(this,"key",void 0),i()(this,"pieceName",void 0),i()(this,"top",void 0),i()(this,"left",void 0),i()(this,"width",void 0),i()(this,"height",void 0),i()(this,"rotateAngle",void 0),i()(this,"rotatable",void 0),i()(this,"reversible",void 0),i()(this,"movable",void 0),i()(this,"matrix",void 0),i()(this,"boxSize",void 0),i()(this,"boxBackgroundColor",void 0),i()(this,"boxCursor",void 0),i()(this,"extendedMatrix",void 0),i()(this,"onDrag",void 0),i()(this,"onDragEnd",void 0),i()(this,"onDragStart",void 0),i()(this,"children",void 0),i()(this,"backgroundColor",void 0),i()(this,"border",void 0),i()(this,"position",void 0),i()(this,"cursor",void 0),i()(this,"text",void 0),i()(this,"zIndex",void 0),i()(this,"opacity",void 0)}),T=function(t){F()(e,t);var r=U()(e);function e(n,a){var o;return L()(this,e),o=r.call(this,n,a),i()(E()(o),"mouseDown",void 0),i()(E()(o),"startDrag",function(p){if(o.props.movable){var c=p.clientX,x=p.clientY;o.mouseDown=!0;var v=function(m){if(o.mouseDown){m.stopImmediatePropagation();var C=m.clientX,h=m.clientY,u=C-c,b=h-x;c=C,x=h}},j=function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),o.mouseDown&&(o.mouseDown=!1)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",j)}}),i()(E()(o),"startInnerDrag",function(p){var c=p.clientX,x=p.clientY;o.mouseDown=!0;var v=function(m){if(o.mouseDown){m.stopImmediatePropagation();var C=m.clientX,h=m.clientY,u=C-c,b=h-x;o.setState(function(g){var S=l.BoxSize,P=0,I=0,Y=g.top+b,B=g.left+u;return k()(k()({},g),{},{top:Y,left:B,width:P,height:I,boxSize:S})}),c=C,x=h}},j=function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),o.mouseDown&&(o.mouseDown=!1),o.setState(function(m){return k()(k()({},m),{},{rotatable:!0,reversible:!0})},function(){var m=function C(h){var u,b,g,S,P,I;(h==null||(u=h.target)===null||u===void 0||(b=u.attributes)===null||b===void 0||(g=b.name)===null||g===void 0?void 0:g.value)==="reverse"||(h==null||(S=h.target)===null||S===void 0||(P=S.attributes)===null||P===void 0||(I=P.name)===null||I===void 0?void 0:I.value)==="rotate"||o.setState(function(Y){return document.removeEventListener("mousedown",C),k()(k()({},Y),{},{rotatable:!1,reversible:!1})})};document.addEventListener("mousedown",m)})};document.addEventListener("mousemove",v),document.addEventListener("mouseup",j)}),i()(E()(o),"onRotate",function(){var p=D.move2TopLeft(D.rotate(o.state.matrix));o.setState(function(c){return k()(k()({},c),{},{matrix:p})})}),i()(E()(o),"onReverse",function(){var p=D.move2TopLeft(D.reverse(o.state.matrix));o.setState(function(c){return k()(k()({},c),{},{matrix:p})})}),o.state=k()({},n),o}return M()(e,[{key:"render",value:function(){var a=this.props,o=a.key,p=a.border,c=a.cursor,x=a.boxCursor,v=a.boxBackgroundColor,j=a.position,y=a.zIndex,m=a.opacity,C=a.backgroundColor,h=a.text,u=this.state,b=u.top,g=u.left,S=u.width,P=u.height,I=u.boxSize,Y=u.rotateAngle,B=u.matrix,tt=u.rotatable,It=u.reversible,N=[];if(B&&B.length&&B[0])for(var Et=B[0].length,Pt=B.length,Z=0;Z<Pt;Z++)for(var H=0;H<Et;H++){var f=new Q;f.key="".concat(o,"-").concat(Z,"-").concat(H),f.top=I*Z,f.left=I*H;var Bt=this.state.matrix[Z][H];Bt?(f.backgroundColor=v,f.cursor=x,f.zIndex=y+1,f.onDrag=this.startInnerDrag,f.width=I,f.height=I):(f.backgroundColor=void 0,f.cursor=void 0,f.zIndex=y-1,f.onDrag=this.startDrag,f.width=0,f.height=0),N.push(f)}var Lt={top:b,left:g,width:S,height:P,transform:"rotate(".concat(Y,"deg)"),cursor:c,userSelect:"none",border:p,backgroundColor:C,position:j||"absolute",zIndex:y,opacity:m};return(0,s.jsxs)(W,{onMouseDown:this.startDrag,style:Lt,children:[this.props.children,h&&(0,s.jsx)("div",{style:{fontSize:"1.1em",lineHeight:"1em",margin:"0.6em 0.3em 0"},children:(0,s.jsx)(X.FormattedMessage,{id:h},"backboard-text-".concat(h))}),N&&N.map(function(w){var Mt={top:w.top,left:w.left,width:w.width,height:w.height,cursor:w.cursor,userSelect:"none",backgroundColor:w.backgroundColor,position:"absolute",zIndex:w.zIndex,opacity:w.opacity};return(0,s.jsx)(W,{onMouseDown:w.onDrag,style:Mt,children:w.top===0&&w.left===0&&tt&&(0,s.jsxs)("div",{style:{fontSize:"0.8em"},children:["top:".concat(b)," ",(0,s.jsx)("br",{}),"left:".concat(g)," ",(0,s.jsx)("br",{}),"b.top:".concat(w.top)," ",(0,s.jsx)("br",{}),"b.left:".concat(w.left)," ",(0,s.jsx)("br",{})]})},w.key)}),tt&&(0,s.jsx)("div",{className:"rotate",onClick:this.onRotate,children:(0,s.jsx)("svg",{width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("image",{width:"1.2em",height:"1.2em",href:"/icons/cycle-arrow.png",name:"rotate"})})}),It&&(0,s.jsx)("div",{className:"reverse",onClick:this.onReverse,children:(0,s.jsx)("svg",{width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("image",{width:"1.2em",height:"1.2em",href:"/icons/left-right-arrow.png",name:"reverse"})})})]})}}]),e}(G.PureComponent),kt=d(2453),A=d(71230),$=d(15746),q=d(52691),St=d(61342),Dt=d(18662),zt=d(27484),_=d.n(zt),jt=function(t){F()(e,t);var r=U()(e);function e(n,a){var o;L()(this,e),o=r.call(this,n,a),i()(E()(o),"dateSet",void 0),i()(E()(o),"onDateChange",function(j){var y=j.$W-1,m=j.$D-1,C=j.$M;y===o.state.week&&m===o.state.day&&C===o.state.month||o.setState(function(h){for(var u=h.backboard,b=0;b<l.Rows;b++)for(var g=0;g<l.Columns;g++){var S=u[b*l.Columns+g];S.text===""?S.backgroundColor="":(S.backgroundColor=l.backgroundColor[(b+g)%2],S.border=l.border)}return u[O[y][0]*l.Columns+O[y][1]].backgroundColor=l.backgroundColorHighLight,u[V[m][0]*l.Columns+V[m][1]].backgroundColor=l.backgroundColorHighLight,u[K[C][0]*l.Columns+K[C][1]].backgroundColor=l.backgroundColorHighLight,k()(k()({},h),{},{month:C,day:m,week:y})})}),i()(E()(o),"resolve",function(){kt.ZP.info("".concat((0,X.formatMessage)({id:"develop.wait"})))});for(var p=[],c=0;c<l.Rows;c++)for(var x=0;x<l.Columns;x++){var v=new Q;v.key="backboard-".concat(c,"-").concat(x),v.top=l.BoxSize*c,v.left=l.BoxSize*x,v.width=l.BoxSize,v.height=l.BoxSize,v.zIndex=0,v.text=wt[c][x],v.text===""?v.backgroundColor="":(v.backgroundColor=l.backgroundColor[(c+x)%2],v.border=l.border),p.push(v)}return o.state={backboard:p,month:0,day:0,week:0},o}return M()(e,[{key:"render",value:function(){return this.dateSet||(this.dateSet=!0,this.onDateChange(_()())),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"center",children:"Here is play 10.."}),(0,s.jsxs)(A.Z,{children:[(0,s.jsx)($.Z,{span:11,children:this.state.backboard.map(function(a){return(0,s.jsx)(T,{top:a.top,left:a.left,width:a.width,height:a.height,zIndex:a.zIndex,border:a.border,text:a.text,backgroundColor:a.backgroundColor,rotatable:!1,reversible:!1,children:(a.text==="may"||a.text==="01")&&(0,s.jsxs)("div",{style:{fontSize:"0.8em"},children:["top: ".concat(a.top)," ",(0,s.jsx)("br",{}),"left: ".concat(a.left)," ",(0,s.jsx)("br",{})]},"backboard-test-".concat(a.key))},"backboard-".concat(a.key))})}),(0,s.jsxs)($.Z,{span:8,children:[(0,s.jsx)(A.Z,{children:(0,s.jsx)(q.ZP,{grid:{gutter:16,column:4},dataSource:bt,renderItem:function(o){return(0,s.jsxs)(q.ZP.Item,{children:[o.name,(0,s.jsx)(T,{top:0,left:0,pieceName:o.name,width:l.BoxSize/3*o.matrix.length,height:l.BoxSize/3*o.matrix.length,position:"relative",zIndex:-1,rotatable:!1,reversible:!1,movable:!1},"piece-pickup-placeholder-".concat(o.name)),(0,s.jsx)(T,{pieceName:o.name,top:l.BoxSize/3,left:l.BoxSize/3,width:0,height:0,matrix:o.matrix,boxBackgroundColor:o.color,zIndex:10,boxSize:l.BoxSize/3,position:"absolute",boxCursor:"pointer",opacity:.92,rotatable:!1,reversible:!1,movable:!1},"piece-pickup-".concat(o.name))]})}})}),(0,s.jsxs)(A.Z,{children:[(0,s.jsx)($.Z,{span:8,children:(0,s.jsx)(St.Z,{format:"YYYY-MM-DD",allowClear:!1,onChange:this.onDateChange,defaultValue:_()()})}),(0,s.jsx)($.Z,{span:12,children:(0,s.jsx)(Dt.ZP,{type:"primary",onClick:this.resolve,children:(0,s.jsx)(X.FormattedMessage,{id:"resolve"})})})]})]}),(0,s.jsx)($.Z,{span:1,offset:1,children:(0,s.jsx)(X.SelectLang,{className:"ant-dropdown-trigger css-lye32u",reload:!1})})]})]})}}]),e}(G.Component)}}]);
