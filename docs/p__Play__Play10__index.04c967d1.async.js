"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[952],{86006:function(Mt,K,d){d.r(K),d.d(K,{default:function(){return Lt}});var lt=d(97857),w=d.n(lt),dt=d(12444),R=d.n(dt),vt=d(72004),H=d.n(vt),ut=d(25098),M=d.n(ut),ht=d(31996),Q=d.n(ht),ct=d(26037),q=d.n(ct),mt=d(9783),i=d.n(mt),_=d(67294),ft=d(68400),gt=d.n(ft),pt=d(85121),tt,et=pt.ZP.div(tt||(tt=gt()([`
  .rotate {
    position: absolute;
    left: 0em;
    top: -2em;
    width: 1.2em;
    height: 1.2em;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }

  .reverse {
    position: absolute;
    left: 3em;
    top: -2em;
    width: 1.2em;
    height: 1.2em;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }
`]))),$=function(){function e(){R()(this,e)}return H()(e,null,[{key:"isEmpty",value:function(t){return!t||t.length<1||t[0].length<1}},{key:"sum",value:function(t){if(this.isEmpty(t))return 0;for(var r=0,v=0;v<t.length;v++)for(var n=0;n<t[0].length;n++)r+=t[v][n];return r}},{key:"operable",value:function(t){return!(this.isEmpty(t)||t.length!==t[0].length||t.length!==3&&t.length!==4)}},{key:"copy",value:function(t){if(!this.operable(t))throw new Error;var r=this.array(t.length,t[0].length);return r.length>=3&&(r[0][0]=t[0][0],r[0][1]=t[0][1],r[0][2]=t[0][2],r[1][0]=t[1][0],r[1][1]=t[1][1],r[1][2]=t[1][2],r[2][0]=t[2][0],r[2][1]=t[2][1],r[2][2]=t[2][2]),r.length>=4&&(r[0][3]=t[0][3],r[1][3]=t[1][3],r[2][3]=t[2][3],r[3][0]=t[3][0],r[3][1]=t[3][1],r[3][2]=t[3][2],r[3][3]=t[3][3]),r}},{key:"left0",value:function(t){if(!this.operable(t))throw new Error;var r=this.array(t.length,t[0].length);return r.length>=3&&(r[0][0]=t[0][1],r[0][1]=t[0][2],r[1][0]=t[1][1],r[1][1]=t[1][2],r[2][0]=t[2][1],r[2][1]=t[2][2]),r.length>=4&&(r[0][2]=t[0][3],r[1][2]=t[1][3],r[2][2]=t[2][3],r[3][0]=t[3][1],r[3][1]=t[3][2],r[3][2]=t[3][3]),r}},{key:"left",value:function(t){if(!this.operable(t))throw new Error;for(var r=this.sum(t),v=this.copy(t);;){var n=this.left0(v);if(r!==this.sum(n))return v;v=n}}},{key:"top0",value:function(t){if(!this.operable(t))throw new Error;var r=this.array(t.length,t[0].length);return r.length>=3&&(r[0][0]=t[1][0],r[0][1]=t[1][1],r[0][2]=t[1][2],r[1][0]=t[2][0],r[1][1]=t[2][1],r[1][2]=t[2][2]),r.length>=4&&(r[0][3]=t[1][3],r[1][3]=t[2][3],r[2][0]=t[3][0],r[2][1]=t[3][1],r[2][2]=t[3][2],r[2][3]=t[3][3]),r}},{key:"top",value:function(t){if(!this.operable(t))throw new Error;for(var r=this.sum(t),v=this.copy(t);;){var n=this.top0(v);if(r!==this.sum(n))return v;v=n}}},{key:"move2TopLeft",value:function(t){return this.top(this.left(t))}}]),e}();i()($,"array",function(e,o){for(var t=[],r=0;r<e;r++){var v=[];t[r]=v;for(var n=0;n<o;n++)t[r].push(0)}return t}),i()($,"rotate",function(e){if(!$.operable(e))throw new Error;var o=$.array(e.length,e[0].length);return e.length===3&&(o[0][0]=e[2][0],o[0][1]=e[1][0],o[0][2]=e[0][0],o[1][0]=e[2][1],o[1][1]=e[1][1],o[1][2]=e[0][1],o[2][0]=e[2][2],o[2][1]=e[1][2],o[2][2]=e[0][2]),e.length===4&&(o[0][0]=e[3][0],o[0][1]=e[2][0],o[0][2]=e[1][0],o[0][3]=e[0][0],o[1][0]=e[3][1],o[1][1]=e[2][1],o[1][2]=e[1][1],o[1][3]=e[0][1],o[2][0]=e[3][2],o[2][1]=e[2][2],o[2][2]=e[1][2],o[2][3]=e[0][2],o[3][0]=e[3][3],o[3][1]=e[2][3],o[3][2]=e[1][3],o[3][3]=e[0][3]),o}),i()($,"reverse",function(e){if(!$.operable(e))throw new Error;var o=$.array(e.length,e[0].length);return e.length===3&&(o[0][0]=e[0][2],o[0][1]=e[0][1],o[0][2]=e[0][0],o[1][0]=e[1][2],o[1][1]=e[1][1],o[1][2]=e[1][0],o[2][0]=e[2][2],o[2][1]=e[2][1],o[2][2]=e[2][0]),e.length===4&&(o[0][0]=e[0][3],o[0][1]=e[0][2],o[0][2]=e[0][1],o[0][3]=e[0][0],o[1][0]=e[1][3],o[1][1]=e[1][2],o[1][2]=e[1][1],o[1][3]=e[1][0],o[2][0]=e[2][3],o[2][1]=e[2][2],o[2][2]=e[2][1],o[2][3]=e[2][0],o[3][0]=e[3][3],o[3][1]=e[3][2],o[3][2]=e[3][1],o[3][3]=e[3][0]),o});var F=d(80854),xt=[[1,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],yt=[[1,0,0],[1,1,0],[1,1,0]],bt=[[1,1,1],[1,0,1],[0,0,0]],Ct=[[0,0,1],[0,0,1],[1,1,1]],kt=[[1,1,0],[0,1,0],[0,1,1]],wt=[[1,1,1],[0,1,0],[0,1,0]],St=[[1,1,1,1],[0,0,0,0],[0,0,0,0],[0,0,0,0]],jt=[[0,1,0],[0,1,0],[1,1,0]],zt=[[1,1,0,0],[0,1,1,1],[0,0,0,0],[0,0,0,0]],Dt=[[1,1,0],[0,1,1],[0,0,0]],B={A:"rgb(105,165,45)",B:"rgb(145,85,160)",C:"rgb(230,225,45)",D:"rgb(40,130,240)",E:"rgb(120,100,200)",F:"rgb(170,190,110)",G:"rgb(220,110,160)",H:"rgb(230,110,15)",I:"rgb(80,180,140)",J:"rgb(220,150,100)"},Zt=null,Et=[{name:"A",matrix:xt,color:B.A},{name:"B",matrix:yt,color:B.B},{name:"C",matrix:bt,color:B.C},{name:"D",matrix:Ct,color:B.D},{name:"E",matrix:kt,color:B.E},{name:"F",matrix:wt,color:B.F},{name:"G",matrix:St,color:B.G},{name:"H",matrix:jt,color:B.H},{name:"I",matrix:zt,color:B.I},{name:"J",matrix:Dt,color:B.J}],s=H()(function e(){R()(this,e)});i()(s,"Rows",8),i()(s,"Columns",7),i()(s,"BoxSize",90),i()(s,"backgroundColor",["white","#eee"]),i()(s,"backgroundColorHighLight","#f1c309"),i()(s,"border","1px solid rgb(25,140,250)"),i()(s,"Id","backboard-id");var Yt=[["january","february","march","april","may","june",""],["july","august","september","october","november","december",""],["01","02","03","04","05","06","07"],["08","09","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31","monday","tuesday","wednesday","thursday"],["","","","","friday","saturday","sunday"]],rt=[[6,3],[6,4],[6,5],[6,6],[7,4],[7,5],[7,6]],ot=[[2,0],[2,1],[2,2],[2,3],[2,4],[2,5],[2,6],[3,0],[3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[4,0],[4,1],[4,2],[4,3],[4,4],[4,5],[4,6],[5,0],[5,1],[5,2],[5,3],[5,4],[5,5],[5,6],[6,0],[6,1],[6,2]],nt=[[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[1,0],[1,1],[1,2],[1,3],[1,4],[1,5]],a=d(85893),it=H()(function e(){R()(this,e),i()(this,"key",void 0),i()(this,"pieceName",void 0),i()(this,"top",void 0),i()(this,"left",void 0),i()(this,"width",void 0),i()(this,"height",void 0),i()(this,"x",void 0),i()(this,"y",void 0),i()(this,"maxX",void 0),i()(this,"maxY",void 0),i()(this,"minX",void 0),i()(this,"minY",void 0),i()(this,"rotateAngle",void 0),i()(this,"rotatable",void 0),i()(this,"reversible",void 0),i()(this,"movable",void 0),i()(this,"matrix",void 0),i()(this,"boxSize",void 0),i()(this,"boxBackgroundColor",void 0),i()(this,"boxCursor",void 0),i()(this,"extendedMatrix",void 0),i()(this,"onDrag",void 0),i()(this,"onDragEnd",void 0),i()(this,"onDragStart",void 0),i()(this,"children",void 0),i()(this,"backgroundColor",void 0),i()(this,"border",void 0),i()(this,"position",void 0),i()(this,"cursor",void 0),i()(this,"text",void 0),i()(this,"zIndex",void 0),i()(this,"opacity",void 0)}),U=function(e){Q()(t,e);var o=q()(t);function t(r,v){var n;return R()(this,t),n=o.call(this,r,v),i()(M()(n),"mouseDown",void 0),i()(M()(n),"startDrag",function(C){if(n.props.movable){var m=C.clientX,k=C.clientY;n.mouseDown=!0;var c=function(x){if(n.mouseDown){x.stopImmediatePropagation();var p=x.clientX,S=x.clientY,f=p-m,j=S-k;m=p,k=S}},l=function h(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h),n.mouseDown&&(n.mouseDown=!1)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",l)}}),i()(M()(n),"startInnerDrag",function(C){var m=C.clientX,k=C.clientY;n.mouseDown=!0;var c=n.props,l=c.maxX,h=c.maxY,x=c.minX,p=c.minY,S=function(u){var g,y,z,D,Y,X;if(n.mouseDown){u.stopImmediatePropagation();var I=u.clientX,L=u.clientY,A=I-m,N=L-k,J=Math.round(((g=u.target)===null||g===void 0||(y=g.parentElement)===null||y===void 0||(z=y.getBoundingClientRect())===null||z===void 0?void 0:z.x)||0),W=Math.round(((D=u.target)===null||D===void 0||(Y=D.parentElement)===null||Y===void 0||(X=Y.getBoundingClientRect())===null||X===void 0?void 0:X.y)||0);n.setState(function(P){var Z=s.BoxSize,b=0,O=0,V=P.top+N,E=P.left+A;return w()(w()({},P),{},{top:V,left:E,width:b,height:O,boxSize:Z,x:J,y:W})}),m=I,k=L}},f=function j(){document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",j),n.mouseDown&&(n.mouseDown=!1),n.setState(function(u){var g=u.top,y=u.left,z=u==null?void 0:u.x,D=u==null?void 0:u.y;return l&&z>=l&&(y+=l-z),x&&z<=x&&(y+=x-z),h&&D>=h&&(g+=h-D),p&&D<=p&&(g+=p-D),w()(w()({},u),{},{rotatable:!0,reversible:!0,top:g,left:y})},function(){n.setState(function(g){return console.log(g),w()({},g)});var u=function g(y){var z,D,Y,X,I,L;(y==null||(z=y.target)===null||z===void 0||(D=z.attributes)===null||D===void 0||(Y=D.name)===null||Y===void 0?void 0:Y.value)==="reverse"||(y==null||(X=y.target)===null||X===void 0||(I=X.attributes)===null||I===void 0||(L=I.name)===null||L===void 0?void 0:L.value)==="rotate"||n.setState(function(A){return document.removeEventListener("mousedown",g),w()(w()({},A),{},{rotatable:!1,reversible:!1})})};document.addEventListener("mousedown",u)})};document.addEventListener("mousemove",S),document.addEventListener("mouseup",f)}),i()(M()(n),"onRotate",function(){var C=$.move2TopLeft($.rotate(n.state.matrix));n.setState(function(m){return w()(w()({},m),{},{matrix:C})})}),i()(M()(n),"onReverse",function(){var C=$.move2TopLeft($.reverse(n.state.matrix));n.setState(function(m){return w()(w()({},m),{},{matrix:C})})}),n.state=w()({},r),n}return H()(t,[{key:"render",value:function(){var v=this.props,n=v.key,C=v.border,m=v.cursor,k=v.boxCursor,c=v.boxBackgroundColor,l=v.position,h=v.zIndex,x=v.opacity,p=v.backgroundColor,S=v.text,f=this.state,j=f.top,u=f.left,g=f.width,y=f.height,z=f.x,D=f.y,Y=f.boxSize,X=f.rotateAngle,I=f.matrix,L=f.rotatable,A=f.reversible,N=[];if(I&&I.length&&I[0])for(var J=I[0].length,W=I.length,P=0;P<W;P++)for(var Z=0;Z<J;Z++){var b=new it;b.key="".concat(n,"-").concat(P,"-").concat(Z),b.top=Y*P,b.left=Y*Z;var O=this.state.matrix[P][Z];O?(b.backgroundColor=c,b.cursor=k,b.zIndex=h+1,b.onDrag=this.startInnerDrag,b.width=Y,b.height=Y):(b.backgroundColor=void 0,b.cursor=void 0,b.zIndex=h-1,b.onDrag=this.startDrag,b.width=0,b.height=0),N.push(b)}var V={top:j,left:u,width:g,height:y,transform:"rotate(".concat(X,"deg)"),cursor:m,userSelect:"none",border:C,backgroundColor:p,position:l||"absolute",zIndex:h,opacity:x};return(0,a.jsxs)(et,{onMouseDown:this.startDrag,style:V,children:[this.props.children,S&&(0,a.jsx)("div",{style:{fontSize:"1.1em",lineHeight:"1em",margin:"0.6em 0.3em 0"},children:(0,a.jsx)(F.FormattedMessage,{id:S},"backboard-text-".concat(S))}),N&&N.map(function(E){var Pt={top:E.top,left:E.left,width:E.width,height:E.height,cursor:E.cursor,userSelect:"none",backgroundColor:E.backgroundColor,position:"absolute",zIndex:E.zIndex,opacity:E.opacity};return(0,a.jsx)(et,{onMouseDown:E.onDrag,style:Pt,children:E.top===0&&E.left===0&&(L||!0)&&(0,a.jsxs)("div",{style:{fontSize:"0.8em"},children:["top:".concat(j)," ",(0,a.jsx)("br",{}),"left:".concat(u)," ",(0,a.jsx)("br",{}),"x:".concat(z)," ",(0,a.jsx)("br",{}),"y:".concat(D)," ",(0,a.jsx)("br",{})]})},E.key)}),L&&(0,a.jsx)("div",{className:"rotate",onClick:this.onRotate,children:(0,a.jsx)("svg",{width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("image",{width:"1.2em",height:"1.2em",href:"/icons/cycle-arrow.png",name:"rotate"})})}),A&&(0,a.jsx)("div",{className:"reverse",onClick:this.onReverse,children:(0,a.jsx)("svg",{width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("image",{width:"1.2em",height:"1.2em",href:"/icons/left-right-arrow.png",name:"reverse"})})})]})}}]),t}(_.PureComponent),It=d(2453),G=d(71230),T=d(15746),at=d(52691),$t=d(61342),Bt=d(18662),Xt=d(27484),st=d.n(Xt),Lt=function(e){Q()(t,e);var o=q()(t);function t(r,v){var n;R()(this,t),n=o.call(this,r,v),i()(M()(n),"dateSet",void 0),i()(M()(n),"onDateChange",function(l){var h=l.$W-1,x=l.$D-1,p=l.$M;h===n.state.week&&x===n.state.day&&p===n.state.month||n.setState(function(S){for(var f=S.backboard,j=0;j<s.Rows;j++)for(var u=0;u<s.Columns;u++){var g=f[j*s.Columns+u];g.text===""?g.backgroundColor="":(g.backgroundColor=s.backgroundColor[(j+u)%2],g.border=s.border)}return f[rt[h][0]*s.Columns+rt[h][1]].backgroundColor=s.backgroundColorHighLight,f[ot[x][0]*s.Columns+ot[x][1]].backgroundColor=s.backgroundColorHighLight,f[nt[p][0]*s.Columns+nt[p][1]].backgroundColor=s.backgroundColorHighLight,w()(w()({},S),{},{month:p,day:x,week:h})})}),i()(M()(n),"resolve",function(){It.ZP.info("".concat((0,F.formatMessage)({id:"develop.wait"})))});for(var C=[],m=0;m<s.Rows;m++)for(var k=0;k<s.Columns;k++){var c=new it;c.key="backboard-".concat(m,"-").concat(k),c.top=s.BoxSize*m,c.left=s.BoxSize*k,c.width=s.BoxSize,c.height=s.BoxSize,c.zIndex=0,c.text=Yt[m][k],c.text===""?c.backgroundColor="":(c.backgroundColor=s.backgroundColor[(m+k)%2],c.border=s.border),C.push(c)}return n.state={backboard:C,month:0,day:0,week:0},n}return H()(t,[{key:"render",value:function(){var v=this;this.dateSet||(this.dateSet=!0,this.onDateChange(st()()));var n=this.state,C=n.minX,m=n.minY,k=n.maxX,c=n.maxY;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"center",children:"Here is play 10.."}),(0,a.jsx)("div",{id:s.Id,onLoad:function(){v.setState(function(h){var x,p=(x=document.getElementById(s.Id))===null||x===void 0?void 0:x.getBoundingClientRect(),S=Math.round((p==null?void 0:p.x)||0),f=Math.round((p==null?void 0:p.y)||0),j=S,u=f,g=j+s.BoxSize*(s.Columns+5),y=u+s.BoxSize*(s.Rows-1);return w()(w()({},h),{},{minX:j,minY:u,maxX:g,maxY:y})})},children:(0,a.jsxs)(G.Z,{children:[(0,a.jsx)(T.Z,{span:11,children:this.state.backboard.map(function(l){return(0,a.jsxs)(U,{top:l.top,left:l.left,width:l.width,height:l.height,zIndex:l.zIndex,border:l.border,text:l.text,backgroundColor:l.backgroundColor,rotatable:!1,reversible:!1,children:[(l.text==="may"||l.text==="01")&&(0,a.jsxs)("div",{style:{fontSize:"0.8em"},children:["top: ".concat(l.top)," ",(0,a.jsx)("br",{}),"left: ".concat(l.left)," ",(0,a.jsx)("br",{})]},"backboard-test-".concat(l.key)),l.text==="january"&&(0,a.jsxs)("div",{style:{fontSize:"0.8em"},children:["dx: ".concat(C," ").concat(k)," ",(0,a.jsx)("br",{}),"dy: ".concat(m," ").concat(c)," ",(0,a.jsx)("br",{})]},"backboard-test-".concat(l.key))]},"backboard-".concat(l.key))})}),(0,a.jsxs)(T.Z,{span:8,children:[(0,a.jsx)(G.Z,{children:(0,a.jsx)(at.ZP,{grid:{column:5},dataSource:Et,renderItem:function(h){return(0,a.jsxs)(at.ZP.Item,{children:[h.name,(0,a.jsx)(U,{top:0,left:0,pieceName:h.name,width:s.BoxSize/3*h.matrix.length,height:s.BoxSize/3*h.matrix.length,position:"relative",zIndex:-1,rotatable:!1,reversible:!1,movable:!1},"piece-pickup-placeholder-".concat(h.name)),(0,a.jsx)(U,{pieceName:h.name,top:s.BoxSize/3,left:s.BoxSize/3,width:0,height:0,maxX:k,maxY:c,minX:C,minY:m,matrix:h.matrix,boxBackgroundColor:h.color,zIndex:10,boxSize:s.BoxSize/3,position:"absolute",boxCursor:"pointer",opacity:.92,rotatable:!1,reversible:!1,movable:!1},"piece-pickup-".concat(h.name))]})}})}),(0,a.jsxs)(G.Z,{children:[(0,a.jsx)(T.Z,{span:8,children:(0,a.jsx)($t.Z,{format:"YYYY-MM-DD",allowClear:!1,onChange:this.onDateChange,defaultValue:st()()})}),(0,a.jsx)(T.Z,{span:12,children:(0,a.jsx)(Bt.ZP,{type:"primary",onClick:this.resolve,children:(0,a.jsx)(F.FormattedMessage,{id:"resolve"})})})]})]}),(0,a.jsx)(T.Z,{span:1,offset:1,children:(0,a.jsx)(F.SelectLang,{className:"ant-dropdown-trigger css-lye32u",reload:!1})})]})})]})}}]),t}(_.Component)}}]);
